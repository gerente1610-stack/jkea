<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JKEA INMOBILIARIA | Donde descansa tu futuro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #0f172a; color: #e2e8f0; scroll-behavior: smooth; }
        .glass { background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(255,255,255,0.1); }
        .card-property { transition: all 0.3s ease; border: 1px solid #1e293b; background: #1e293b; }
        .card-property:hover { transform: translateY(-8px); border-color: #3b82f6; }
        .hero-gradient { background: radial-gradient(circle at top right, #1e3a8a 0%, #0f172a 60%); }
        .benefit-card { background: rgba(30, 41, 59, 0.5); border-left: 4px solid #3b82f6; }
        .testimonial-card { background: #1e293b; border: 1px solid #334155; }
    </style>
</head>
<body>

    <nav class="sticky top-0 z-50 glass p-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2">
                <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center font-black text-white shadow-lg">JK</div>
                <div>
                    <h1 class="text-xl font-extrabold text-white tracking-tighter italic uppercase leading-none">JKEA <span class="text-blue-500 font-light">INMOBILIARIA</span></h1>
                    <p class="text-[9px] text-blue-400 uppercase tracking-widest font-bold">Donde descansa tu futuro</p>
                </div>
            </div>
            <div class="flex gap-4 items-center">
                <a href="#nosotros" class="text-[10px] font-bold uppercase text-slate-300 hover:text-white transition hidden md:block">Nosotros</a>
                <button id="adminBtn" onclick="toggleAdminSession()" class="bg-slate-800 px-4 py-2 rounded-xl text-[10px] font-bold text-white border border-slate-700 hover:bg-slate-700 transition uppercase">Acceso Admin</button>
            </div>
        </div>
    </nav>

    <section class="hero-gradient py-24 px-6 text-center">
        <div class="max-w-3xl mx-auto">
            <h2 class="text-5xl md:text-7xl font-black text-white mb-6 italic uppercase leading-tight">Tu patrimonio en <span class="text-blue-500">buenas manos</span></h2>
            <p class="text-slate-400 text-lg mb-10">Especialistas en la zona de Monterrey y área metropolitana. Te acompañamos desde la primera visita hasta la firma ante notario.</p>
            <div class="flex flex-wrap justify-center gap-4">
                <a href="#catalogo" class="bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest transition shadow-xl">Ver Catálogo</a>
                <a href="#vender" class="bg-slate-800 hover:bg-slate-700 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest transition border border-slate-700">Quiero Vender</a>
            </div>
        </div>
    </section>

    <section class="py-20 px-6">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="benefit-card p-8 rounded-2xl">
                <div class="bg-blue-600/20 w-12 h-12 rounded-lg flex items-center justify-center mb-6">
                    <i class="fa-solid fa-file-signature text-blue-500"></i>
                </div>
                <h4 class="text-white font-black mb-3 uppercase italic">Trámites sin complicaciones</h4>
                <p class="text-slate-400 text-sm leading-relaxed">¿Te asusta la papelería? Nosotros gestionamos todo el proceso jurídico y notarial por ti.</p>
            </div>
            <div class="benefit-card p-8 rounded-2xl">
                <div class="bg-blue-600/20 w-12 h-12 rounded-lg flex items-center justify-center mb-6">
                    <i class="fa-solid fa-house-circle-check text-blue-500"></i>
                </div>
                <h4 class="text-white font-black mb-3 uppercase italic">Créditos Autorizados</h4>
                <p class="text-slate-400 text-sm leading-relaxed">Te ayudamos a precalificar y elegir la mejor opción: Infonavit, Cofinavit o Bancario.</p>
            </div>
            <div class="benefit-card p-8 rounded-2xl">
                <div class="bg-blue-600/20 w-12 h-12 rounded-lg flex items-center justify-center mb-6">
                    <i class="fa-solid fa-magnifying-glass-chart text-blue-500"></i>
                </div>
                <h4 class="text-white font-black mb-3 uppercase italic">Análisis de Mercado</h4>
                <p class="text-slate-400 text-sm leading-relaxed">Vende tu casa al precio real. No pierdas dinero malbaratando tu propiedad por falta de asesoría.</p>
            </div>
        </div>
    </section>

    <section class="py-20 px-6 bg-slate-900/50">
        <div class="max-w-7xl mx-auto text-center mb-16">
            <h2 class="text-3xl font-black text-white uppercase italic tracking-tighter">Opiniones de <span class="text-blue-500">nuestros clientes</span></h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
            <div class="testimonial-card p-8 rounded-[2rem] shadow-xl relative">
                <div class="flex text-yellow-500 mb-4 text-sm">
                    <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i>
                    <span class="ml-2 text-slate-400 font-bold">4.5</span>
                </div>
                <p class="text-slate-300 text-sm italic mb-6">"Muy buena atención de Areli. Al principio el trámite del crédito se tardó por el banco, pero ella siempre nos mantuvo informados y nos dio confianza hasta que firmamos."</p>
                <div class="flex items-center gap-3 border-t border-slate-700 pt-4">
                    <div class="w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center font-bold text-blue-500">RC</div>
                    <p class="text-white font-bold text-[10px] uppercase tracking-widest">Ricardo Cantú</p>
                </div>
            </div>
            <div class="testimonial-card p-8 rounded-[2rem] shadow-xl relative">
                <div class="flex text-yellow-500 mb-4 text-sm">
                    <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-regular fa-star"></i>
                    <span class="ml-2 text-slate-400 font-bold">4.0</span>
                </div>
                <p class="text-slate-300 text-sm italic mb-6">"Vendimos nuestra casa con JKEA. El proceso fue transparente y legal. Solo nos hubiera gustado un poco más de publicidad al inicio, pero al final se vendió bien."</p>
                <div class="flex items-center gap-3 border-t border-slate-700 pt-4">
                    <div class="w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center font-bold text-blue-500">MG</div>
                    <p class="text-white font-bold text-[10px] uppercase tracking-widest">Mónica Guerra</p>
                </div>
            </div>
            <div class="testimonial-card p-8 rounded-[2rem] shadow-xl relative">
                <div class="flex text-yellow-500 mb-4 text-sm">
                    <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i>
                    <span class="ml-2 text-slate-400 font-bold">4.5</span>
                </div>
                <p class="text-slate-300 text-sm italic mb-6">"Excelente trato y conocimiento de la zona. Encontraron exactamente lo que buscaba mi familia en Apodaca. Muy recomendables para quienes buscan seguridad."</p>
                <div class="flex items-center gap-3 border-t border-slate-700 pt-4">
                    <div class="w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center font-bold text-blue-500">JP</div>
                    <p class="text-white font-bold text-[10px] uppercase tracking-widest">Javier Perales</p>
                </div>
            </div>
        </div>
    </section>

    <section id="vender" class="py-24 px-6">
        <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <div>
                <h2 class="text-4xl md:text-5xl font-black text-white mb-6 italic uppercase leading-tight">Vende tu casa <br><span class="text-blue-500 text-6xl">Rápido</span></h2>
                <p class="text-slate-400 mb-8 leading-relaxed italic uppercase tracking-[0.3em] font-bold text-xs">"Donde descansa tu futuro"</p>
                <p class="text-slate-300 mb-8 leading-relaxed">Compramos y captamos propiedades para venta inmediata. Si necesitas vender tu casa pero no sabes por dónde empezar, nosotros te asesoramos sin costo.</p>
                <div class="flex gap-4">
                    <div class="text-center p-4 bg-slate-800 rounded-2xl border border-slate-700 flex-grow">
                        <p class="text-blue-500 font-black text-2xl tracking-tighter">100%</p>
                        <p class="text-slate-500 text-[9px] uppercase font-bold">Seguro</p>
                    </div>
                    <div class="text-center p-4 bg-slate-800 rounded-2xl border border-slate-700 flex-grow">
                        <p class="text-blue-500 font-black text-2xl tracking-tighter">0</p>
                        <p class="text-slate-500 text-[9px] uppercase font-bold">Riesgos</p>
                    </div>
                </div>
            </div>
            <div class="bg-blue-600 p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden">
                <div class="relative z-10 text-white">
                    <h4 class="font-black text-center mb-6 uppercase tracking-widest italic">Solicitar Avalúo Gratis</h4>
                    <form onsubmit="event.preventDefault(); enviarVentaWhatsApp();" class="space-y-4">
                        <input type="text" id="v_nombre" placeholder="Tu Nombre" class="w-full p-4 bg-white/10 rounded-2xl text-xs placeholder-white/50 text-white border border-white/20 outline-none" required>
                        <input type="text" id="v_ubicacion" placeholder="¿Dónde está la propiedad?" class="w-full p-4 bg-white/10 rounded-2xl text-xs placeholder-white/50 text-white border border-white/20 outline-none" required>
                        <input type="tel" id="v_tel" placeholder="WhatsApp" class="w-full p-4 bg-white/10 rounded-2xl text-xs placeholder-white/50 text-white border border-white/20 outline-none" required>
                        <button type="submit" class="w-full bg-slate-900 text-white font-black py-4 rounded-2xl uppercase tracking-widest hover:bg-black transition shadow-xl">Contactar Ahora</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section id="catalogo" class="py-20 px-6 bg-slate-900/30">
        <div class="max-w-7xl mx-auto flex justify-between items-end mb-12">
            <div>
                <h2 class="text-3xl font-black text-white uppercase italic tracking-tighter">Propiedades <span class="text-blue-500 font-light">Disponibles</span></h2>
                <p class="text-slate-500 text-[10px] uppercase font-bold tracking-widest mt-1">Nuevos ingresos semanales</p>
            </div>
        </div>
        <div id="container" class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
    </section>

    <section id="adminPanel" class="hidden py-10 px-6 border-t border-blue-500/20">
        <div class="max-w-4xl mx-auto p-8 bg-slate-800 rounded-[2rem] shadow-2xl border border-blue-500/30">
            <h2 id="formTitle" class="text-white font-black mb-6 uppercase italic text-center text-sm tracking-widest tracking-widest">Gestión de Propiedades</h2>
            <form id="houseForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <input type="text" id="imgInp" placeholder="URL Imagen" class="md:col-span-2 p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700 outline-none focus:border-blue-500">
                <input type="text" id="streetInp" placeholder="Calle y Num" class="p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700">
                <input type="text" id="colInp" placeholder="Colonia" class="p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700">
                <input type="text" id="munInp" placeholder="Municipio" class="p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700">
                <input type="text" id="estInp" placeholder="Estado" class="p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700">
                <input type="text" id="priceInp" placeholder="Precio" class="p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700">
                <input type="text" id="avaInp" placeholder="Avalúo" class="p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700">
                <input type="text" id="carInp" placeholder="Tipo Carta" class="p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700">
                <select id="statusInp" class="md:col-span-2 p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700 font-bold uppercase outline-none focus:border-blue-500">
                    <option value="Disponible">Disponible</option>
                    <option value="Vendida">Vendida</option>
                </select>
                <input type="text" id="mapsInp" placeholder="URL Google Maps" class="md:col-span-2 p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700">
                <textarea id="descInp" placeholder="Descripción de la propiedad..." class="md:col-span-2 p-4 bg-slate-900 rounded-xl text-xs text-white border border-slate-700 h-24 outline-none focus:border-blue-500"></textarea>
                <div class="md:col-span-2 flex flex-col md:flex-row gap-2">
                    <button type="submit" id="submitBtn" class="flex-grow bg-blue-600 p-4 rounded-xl text-white font-black uppercase tracking-widest hover:bg-blue-500 transition shadow-lg">Guardar Información</button>
                    <button type="button" id="cancelBtn" onclick="resetForm()" class="hidden bg-slate-700 p-4 rounded-xl text-white font-bold uppercase tracking-widest">Cancelar</button>
                </div>
            </form>
        </div>
    </section>

    <footer class="py-12 border-t border-slate-800 text-center">
        <div class="max-w-7xl mx-auto px-6">
            <h1 class="text-2xl font-black text-white italic uppercase mb-2 leading-none">JKEA <span class="text-blue-500 font-light">INMOBILIARIA</span></h1>
            <p class="text-slate-500 text-[10px] uppercase tracking-[0.4em] font-bold mb-8 italic">Donde descansa tu futuro</p>
            <div class="flex justify-center gap-8 mb-8 text-slate-400">
                <a href="https://wa.me/528115041788" class="hover:text-green-500 transition text-2xl"><i class="fa-brands fa-whatsapp"></i></a>
                <a href="#" class="hover:text-blue-500 transition text-2xl"><i class="fa-brands fa-facebook-f"></i></a>
            </div>
            <p class="text-slate-600 text-[9px] uppercase tracking-[0.2em] font-bold">© 2024 JKEA Inmobiliaria | Areli Mancillas - Tel: 81 1504 1788</p>
        </div>
    </footer>

    <script>
        const CONFIG = {
            script: 'https://script.google.com/macros/s/AKfycbzhoDWtvntFy4z8puw6zJxaX2TbMXs-5fmTzCban0gdlu6EDAVUB_NADEC8T1uM9i9Grw/exec',
            casas: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTT0ghyGKQ2VBKrpNYHQ2rqhPe1vn5a41EPdP71jxKene3h2e7yuulRf8trCShODpSdIn6BRZlZCG82/pub?gid=0&single=true&output=csv',
            users: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTT0ghyGKQ2VBKrpNYHQ2rqhPe1vn5a41EPdP71jxKene3h2e7yuulRf8trCShODpSdIn6BRZlZCG82/pub?gid=844715514&single=true&output=csv'
        };

        let isAdmin = localStorage.getItem('jka_session') === 'active';
        let editingRow = null;

        window.onload = () => {
            if (isAdmin) {
                document.getElementById('adminPanel').classList.remove('hidden');
                document.getElementById('adminBtn').innerText = "Salir Admin";
            }
            loadData();
        };

        async function toggleAdminSession() {
            if (isAdmin) {
                if(confirm("¿Cerrar sesión de administrador?")) { localStorage.removeItem('jka_session'); location.reload(); }
            } else {
                const u = prompt("User:"), p = prompt("Pass:");
                const res = await fetch(`${CONFIG.users}&cb=${Date.now()}`);
                const data = parseCSV(await res.text());
                if (data.find(r => r[1] === u && r[2] === p)) {
                    localStorage.setItem('jka_session', 'active');
                    location.reload();
                } else { alert("Acceso denegado"); }
            }
        }

        async function loadData() {
            const res = await fetch(`${CONFIG.casas}&cb=${Date.now()}`);
            const data = parseCSV(await res.text());
            const container = document.getElementById('container');
            container.innerHTML = "";
            for (let i = 1; i < data.length; i++) {
                const r = data[i]; if (!r[1]) continue;
                const status = (r[11] || "Disponible").trim();
                if (!isAdmin && status.toLowerCase() === "vendida") continue;
                container.innerHTML += `
                    <div class="card-property rounded-[2.5rem] overflow-hidden flex flex-col h-full shadow-xl">
                        <div class="relative">
                            <img src="${r[1]}" class="w-full h-64 object-cover">
                            <span class="absolute top-4 left-4 px-4 py-1 rounded-full text-[10px] font-black uppercase shadow-lg ${status.toLowerCase() === 'vendida' ? 'bg-red-600 text-white' : 'bg-blue-600 text-white'}">${status}</span>
                        </div>
                        <div class="p-8 flex flex-col flex-grow">
                            <h3 class="text-3xl font-black text-white mb-2 leading-none">$${Number(r[6]).toLocaleString()}</h3>
                            <p class="text-slate-400 text-[10px] font-bold uppercase mb-6 tracking-widest">${r[2]}, ${r[3]}</p>
                            ${isAdmin ? `<button onclick='editMode(${JSON.stringify(r).replace(/'/g, "&apos;")}, ${i+1})' class="w-full bg-blue-600/20 text-blue-400 border border-blue-500/40 py-3 rounded-2xl text-[10px] font-black uppercase mb-6 hover:bg-blue-600 hover:text-white transition italic">Editar Info</button>` : ''}
                            <div class="flex gap-2 mb-6">
                                <span class="text-[9px] bg-slate-900 border border-slate-700 px-3 py-1.5 rounded-lg text-slate-300 font-bold">Avalúo: ${r[7]}</span>
                                <span class="text-[9px] bg-slate-900 border border-slate-700 px-3 py-1.5 rounded-lg text-slate-300 font-bold italic">Carta: ${r[8]}</span>
                            </div>
                            <p class="text-slate-400 text-xs italic line-clamp-3 mb-8">"${r[9]}"</p>
                            <a href="https://wa.me/528115041788" target="_blank" class="mt-auto block w-full bg-green-600 text-white py-4 rounded-2xl font-black text-center text-[10px] uppercase shadow-lg hover:bg-green-500 transition">Contactar WhatsApp</a>
                        </div>
                    </div>`;
            }
        }

        function editMode(data, row) {
            editingRow = row;
            document.getElementById('imgInp').value = data[1];
            document.getElementById('streetInp').value = data[2];
            document.getElementById('colInp').value = data[3];
            document.getElementById('munInp').value = data[4];
            document.getElementById('estInp').value = data[5];
            document.getElementById('priceInp').value = data[6];
            document.getElementById('avaInp').value = data[7];
            document.getElementById('carInp').value = data[8];
            document.getElementById('descInp').value = data[9];
            document.getElementById('mapsInp').value = data[10];
            document.getElementById('statusInp').value = data[11] || "Disponible";
            document.getElementById('formTitle').innerText = "Editando Fila " + row;
            document.getElementById('submitBtn').classList.replace('bg-blue-600', 'bg-orange-600');
            document.getElementById('cancelBtn').classList.remove('hidden');
            document.getElementById('adminPanel').classList.remove('hidden');
            document.getElementById('adminPanel').scrollIntoView({behavior: 'smooth'});
        }

        function resetForm() {
            editingRow = null;
            document.getElementById('houseForm').reset();
            document.getElementById('submitBtn').classList.replace('bg-orange-600', 'bg-blue-600');
            document.getElementById('cancelBtn').classList.add('hidden');
        }

        document.getElementById('houseForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            btn.disabled = true; btn.innerText = "Sincronizando con Excel...";
            const payload = {
                action: editingRow ? "update" : "insert",
                row: editingRow,
                imagen: document.getElementById('imgInp').value,
                calle: document.getElementById('streetInp').value,
                colonia: document.getElementById('colInp').value,
                municipio: document.getElementById('munInp').value,
                estado: document.getElementById('estInp').value,
                precio: document.getElementById('priceInp').value,
                avaluo: document.getElementById('avaInp').value,
                carta: document.getElementById('carInp').value,
                descripcion: document.getElementById('descInp').value,
                maps: document.getElementById('mapsInp').value,
                status: document.getElementById('statusInp').value
            };
            await fetch(CONFIG.script, { method: 'POST', mode: 'no-cors', body: JSON.stringify(payload) });
            alert("Cambios guardados correctamente."); location.reload();
        });

        function enviarVentaWhatsApp() {
            const m = `Hola JKEA Inmobiliaria, me interesa VENDER mi casa.%0A*Nombre:* ${document.getElementById('v_nombre').value}%0A*Ubicación:* ${document.getElementById('v_ubicacion').value}%0A*Tel:* ${document.getElementById('v_tel').value}`;
            window.open(`https://wa.me/528115041788?text=${m}`, '_blank');
        }

        function parseCSV(text) {
            const rows = []; let curr = [], field = '', inQ = false;
            for (let i = 0; i < text.length; i++) {
                const c = text[i];
                if (c === '"') inQ = !inQ;
                else if (c === ',' && !inQ) { curr.push(field.trim()); field = ''; }
                else if (c === '\n' && !inQ) { curr.push(field.trim()); rows.push(curr); curr = []; field = ''; }
                else if (c !== '\r') field += c;
            }
            if (curr.length || field) { curr.push(field.trim()); rows.push(curr); }
            return rows;
        }
    </script>
</body>
</html>